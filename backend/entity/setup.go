package entity

import (
	"golang.org/x/crypto/bcrypt"
	"gorm.io/driver/sqlite"
	"gorm.io/gorm"
)

var db *gorm.DB

func DB() *gorm.DB {
	return db
}

func SetupDatabase() {
	database, err := gorm.Open(sqlite.Open("sa-66.db"), &gorm.Config{})
	if err != nil {
		panic("failed to connect database")
	}
	// Migrate the schema
	database.AutoMigrate(
		&User{},
		&Gender{},
	)

	db = database

	// Gender Data
	male := Gender{
		Name: "ชาย",
	}
	db.Model(&Gender{}).Create(&male)

	female := Gender{
		Name: "หญิง",
	}

	password, err := bcrypt.GenerateFromPassword([]byte("123456"), 14)

	db.Model(&User{}).Create(&User{
		Gender:    male,
		FirstName: "Tanapon",
		LastName:  "Kongjaroensuk",
		Email:     "tanapon395@gmail.com",
		Phone:     "0801757479",
		Profile:   "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBISFRISEhISGBISEhISGBgYEhgYGhISGBQZGRgaGRgcIzAlHR4rIRYaJjgmKy80NTVDGiQ7QD0zPy40NTEBDAwMEA8QHxISHzQrJSs1NkA0NDc0NDQ2NDQ0NDQ0MTE0NDQ9NDE0NDQ0NDQ0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ/P//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAQUBAAAAAAAAAAAAAAAABgEDBAUHAv/EAEYQAAIBAgMDBwYJCwQDAAAAAAECAAMRBBIhBSIxBhMyQVFhcVNygZGy0QcUFRY0krHBwjNCQ1JUYnOCk6HSI4Oisxck8f/EABoBAQADAQEBAAAAAAAAAAAAAAACAwQFAQb/xAAsEQACAgECBAQGAwEAAAAAAAAAAQIDEQQxBRIhURMUMpEVIjNxgaFBQsFh/9oADAMBAAIRAxEAPwDs0REAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAKSl5WYG09oph0LudBwA4k9QAnjaSyz2MXJ4W5nXi85zjeVOJcnKwRL6BRrbvYzWttPEHjXq/XaY562CfRZOlDhdslltI6xeLzkvx+v5ar9dvfPQ2liBwr1frtIefj2J/CbO6OsXEXnNcFylxNMi7Z16ww19DDUf3l/bu3nq801Go6AqwKhiLMD124+MsWsg45/RS+G3KSi9n/J0O8XnKPlTEeXq/Xb3yU8isVVqc9ndmtltmYm3Hhee1auNkuVI8v4fOmDm2iYShMrPFTgfCamYCsTldbamIDOBXq6Mw6bdR8Z4+VMT5er/Ub3zC9dFPGGdSPCrGspo6veLzlHypifL1frt74+VMT5er/Ub3x5+HZkvhFndHV7xeco+VMT5er/Ub3x8qYjy9X+o3vjz8OzHwizujq94vOUfKmJ8vV+u3vljF7WxKoxGIrA24io3b4ycNZGckktyu3htlcHNtdDr8pecN+XsZ+14j+q/vm05L7YxT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1pqFsGZQihdRcZgNCdP7S0cfh8obTIXUXy6ZyvOA8NDbW/b3zYcwt82Vb2y3t+b2S2+DpsCpRCpuCCoIIK5Dp5u74aQCylalmRAo0Iy7uisULADsOXMfT3yzWOGC0yaalcjOgFMHIlt5gLbo3tbdszviyXDZVzAWByi4FiOPgZRsHTIC5Fyi9hlFhfjbxgGO/Ms1RDTVjYZr0wcwUBgv71s4sOq890qVGqgORGRjmF0FmP61iP7y+KChs2Vc1rZrC/V1+geodk9ogUBQAABYAdQgGuOIoVAGyhyjIF3ASrsoK5bjQ2PolrAU6YFBamWpVWmCtRqQUkKfDRv3R2XsJsThUtbKtt3TKPzej6uqVGGQZd1dwWXQbotaw7NIBh4d6FUrUVFLMCFYoMxC2PE69nX9k9nE0mFIsB/rAqgZRcqVzEG/AEAf2mWtJRawG6LDTgLWsPVPJwybu6u6ABpwAIIt2ageqAUwa0wtqaqqhmFlUKAVYqdB3iZMs06KrfKALkk2Frkm5Piby9AEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREA//2Q==",
		Password:  string(password),
	})

	db.Model(&Gender{}).Create(&female)
}
